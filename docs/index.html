<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Targeting the metabolome, the broad-scoped way • RHermes</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Targeting the metabolome, the broad-scoped way">
<meta property="og:description" content="RHermes is a broad-scoped targeted metabolomics package to identify
  compounds from biological and environmental samples using a context-specific
  database of formulas and adducts. RHermes offers a comprehensive and 
  sample-specific MS1 and MS2 compound identification strategy. Additionally,
  the package offers an easy-to-use GUI to help with the processing and to
  visualize the results.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">RHermes</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.99.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/RHermes_UserGuide.html">RHermes User Guide</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/RogerGinBer/RHermes/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="rhermes" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rhermes" class="anchor"></a>RHermes</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p><code>RHermes</code> is a broad-scoped targeted metabolomics software used to analyse LC-MS and LC-MS/MS data to identify compounds in biological or environmental samples.</p>
<p>The <code>RHermes</code> workflow works with both Orbitrap and q-TOF instrument data and comes with an easy to use GUI that will guide you every step of the way.</p>
<p>Check out the documentation <a href="https://rogerginber.github.io/RHermes/">here</a></p>
<div id="system-requirements" class="section level2">
<h2 class="hasAnchor">
<a href="#system-requirements" class="anchor"></a>System requirements</h2>
<p>The recommended system requirements are:</p>
<ul>
<li>At least a 4 core processor</li>
<li>8-16 GB of RAM or more</li>
<li>An internet connection to perform KEGG queries</li>
</ul>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can download the development version from <a href="https://github.com/RogerGinBer/RHermes">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html">requireNamespace</a></span><span class="op">(</span><span class="st">"devtools"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>
    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"RogerGinBer/RHermes"</span><span class="op">)</span></code></pre></div>
</div>
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h2>
<p><code>RHermes</code> can perform almost all its functions after installation, but the SOI Blank Substraction step requires a valid <code>keras</code> and <code>tensorflow</code> installation (which rely on Python).</p>
<div id="option-1-default-installation" class="section level3">
<h3 class="hasAnchor">
<a href="#option-1-default-installation" class="anchor"></a>Option 1: Default installation</h3>
<p>In principle both <code>keras</code> and <code>tensorflow</code> can be configured with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reticulate/man/install_miniconda.html">install_miniconda</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu">keras</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/keras/man/install_keras.html">install_keras</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu">tensorflow</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tensorflow/man/install_tensorflow.html">install_tensorflow</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>After which you can check the following:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">tensorflow</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tensorflow/man/tf_config.html">tf_config</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">keras</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/keras/man/save_model_hdf5.html">load_model_hdf5</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"ImprovedModel.h5"</span>, package <span class="op">=</span> <span class="st">"RHermes"</span><span class="op">)</span><span class="op">)</span>
<span class="fu">is</span><span class="op">(</span><span class="va">model</span>, <span class="st">"python.builtin.object"</span><span class="op">)</span> <span class="co">#Gives TRUE if the loading is successful.</span></code></pre></div>
<p>If both commands don’t give any error (the “Your CPU supports …” warning is fine) the installation has been successful. If it fails (which can happen in some devices, try Option 2).</p>
</div>
<div id="option-2-manual-installation" class="section level3">
<h3 class="hasAnchor">
<a href="#option-2-manual-installation" class="anchor"></a>Option 2: Manual installation</h3>
<p>First install Miniconda:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reticulate/man/install_miniconda.html">install_miniconda</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Now find the Miniconda Prompt in your computer. Instead of relying on the default r-reticulate environment, type the following to create a new environment:</p>
<p><code>conda create -n newenv python=3.6 tensorflow keras</code></p>
<p>When finished, type in R:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">reticulate</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/reticulate/man/use_python.html">use_condaenv</a></span><span class="op">(</span><span class="st">"newenv"</span>, required <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu">tensorflow</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/tensorflow/man/tf_config.html">tf_config</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">keras</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/keras/man/save_model_hdf5.html">load_model_hdf5</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"ImprovedModel.h5"</span>, package <span class="op">=</span> <span class="st">"RHermes"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Everything should run smoothly. If not, try manually installing Anaconda from their website and letting <code>reticulate</code> know where to find the environment.</p>
<p>Also check out <a href="https://tensorflow.rstudio.com/tutorials/beginners/basic-ml/">Keras</a> and <a href="https://tensorflow.rstudio.com/tutorials/">Tensorflow</a> R tutorials.</p>
</div>
</div>
<div id="analyzing-lc-ms-data-with-rhermes" class="section level2">
<h2 class="hasAnchor">
<a href="#analyzing-lc-ms-data-with-rhermes" class="anchor"></a>Analyzing LC-MS data with RHermes</h2>
<p>Once installed, you can use <code>RHermes</code> programmatically like this:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">RHermes</span><span class="op">)</span>
<span class="co">#Generate a Exp object</span>
<span class="va">example</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/RHermesExp-class.html">RHermesExp</a></span><span class="op">(</span><span class="op">)</span>

<span class="co">#Set your formula and adduct database</span>
<span class="va">example</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/setDB.html">setDB</a></span><span class="op">(</span><span class="va">example</span>, db <span class="op">=</span> <span class="st">"hmdb"</span><span class="op">)</span>

<span class="co">#Process your MS1 files</span>
<span class="va">example</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/processMS1.html">processMS1</a></span><span class="op">(</span><span class="va">example</span>,
                        <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"MS1TestData.mzML"</span>,
                        package <span class="op">=</span> <span class="st">"RHermes"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#Generate SOIs</span>
<span class="va">example</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/findSOI.html">findSOI</a></span><span class="op">(</span><span class="va">example</span>, <span class="fu"><a href="reference/getSOIpar.html">getSOIpar</a></span><span class="op">(</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span>

<span class="co">#Generate an IL </span>
<span class="va">example</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/generateIL.html">generateIL</a></span><span class="op">(</span><span class="va">example</span>, <span class="fl">1</span>, <span class="fu"><a href="reference/ILParam-class.html">ILParam</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Or start the interactive GUI typing:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/RHermesGUI.html">RHermesGUI</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>Please check the User Guide <a href="https://rogerginber.github.io/RHermes/articles/RHermes_UserGuide.html">vignette</a> for more detailed info and real examples.</p>
</div>
<div id="bug-reporting" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-reporting" class="anchor"></a>Bug reporting</h2>
<p>Suggestions and bug reports are more than welcome at: <a href="https://github.com/RogerGinBer/RHermes/issues" class="uri">https://github.com/RogerGinBer/RHermes/issues</a></p>
</div>
<div id="citation" class="section level2">
<h2 class="hasAnchor">
<a href="#citation" class="anchor"></a>Citation</h2>
<p>Please cite this package as:</p>
<p>HERMES: a molecular formula-oriented method to target the metabolome Roger Giné, Jordi Capellades, Josep M. Badia, Dennis Vughs, Michaela Schwaiger-Haber, Maria Vinaixa, Andrea M. Brunner, Gary J. Patti, Oscar Yanes bioRxiv 2021.03.08.434466; doi: <a href="https://doi.org/10.1101/2021.03.08.434466" class="uri">https://doi.org/10.1101/2021.03.08.434466</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/RogerGinBer/RHermes/">https://​github.com/​RogerGinBer/​RHermes/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/RogerGinBer/RHermes/issues">https://​github.com/​RogerGinBer/​RHermes/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Roger Gine <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://codecov.io/gh/RogerGinBer/RHermes?branch=master"><img src="https://codecov.io/gh/RogerGinBer/RHermes/branch/master/graph/badge.svg?token=HL73R4GHFJ" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Roger Gine.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
